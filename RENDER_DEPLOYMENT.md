# üöÄ Render Deployment Guide for MotionFalcon

## Prerequisites
- [Render account](https://render.com/)
- Your MotionFalcon project ready on GitHub
- PostgreSQL database (Render provides this)

## üöÄ Quick Deployment Steps

### 1. Connect GitHub Repository
1. Go to [render.com](https://render.com/)
2. Click "New +" ‚Üí "Web Service"
3. Connect your GitHub account
4. Select the `Crypto-Falcon` repository

### 2. Deploy Backend Service
1. **Service Name**: `motionfalcon-backend`
2. **Root Directory**: `crypto-backend`
3. **Environment**: `Python 3`
4. **Build Command**: `pip install -r requirements-render.txt`
5. **Start Command**: `alembic upgrade head && uvicorn app.main:app --host 0.0.0.0 --port $PORT`

### 3. Deploy Frontend Service
1. **Service Name**: `motionfalcon-frontend`
2. **Root Directory**: `crypto-frontend`
3. **Environment**: `Static Site`
4. **Build Command**: `npm install --legacy-peer-deps && npm run build`
5. **Publish Directory**: `dist`

### 4. Set Up Database
1. Create a new PostgreSQL service
2. Copy the connection string
3. Set it as `DATABASE_URL` in your backend service

## üîß Detailed Configuration

### Backend Environment Variables
```
DATABASE_URL=postgresql://user:password@host:port/database
SECRET_KEY=your-super-secret-key-here
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-secret-key
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
ENVIRONMENT=production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
```

### Frontend Environment Variables
```
VITE_API_URL=https://your-backend-service.onrender.com
VITE_APP_ENV=production
```

## üóÑÔ∏è Database Setup

### Option 1: Render PostgreSQL (Recommended)
1. Create new PostgreSQL service
2. Set service name: `motionfalcon-db`
3. Choose "Starter" plan
4. Copy the connection string
5. Set as `DATABASE_URL` in backend

### Option 2: External Database
- Use Supabase, Neon, or any PostgreSQL provider
- Set connection string in `DATABASE_URL`

## üîó Service Linking

1. **Backend ‚Üí Database**: Set `DATABASE_URL`
2. **Frontend ‚Üí Backend**: Set `VITE_API_URL`
3. **Health Checks**: Backend uses `/health` endpoint

## üì± Environment Variables Reference

### Backend Required Variables
- `DATABASE_URL`: PostgreSQL connection string
- `SECRET_KEY`: JWT secret key (auto-generated by Render)
- `RAZORPAY_KEY_ID`: Razorpay API key
- `RAZORPAY_KEY_SECRET`: Razorpay secret key
- `EMAIL_HOST`: SMTP server host
- `EMAIL_PORT`: SMTP server port
- `EMAIL_USER`: Email username
- `EMAIL_PASSWORD`: Email app password
- `ENVIRONMENT`: Set to "production"
- `ALGORITHM`: JWT algorithm (HS256)
- `ACCESS_TOKEN_EXPIRE_MINUTES`: Token expiry time

### Frontend Required Variables
- `VITE_API_URL`: Backend API URL
- `VITE_APP_ENV`: Set to "production"

## üö® Troubleshooting

### Common Issues

1. **Build Failures**:
   - Check `requirements-render.txt` for all dependencies
   - Ensure Python version compatibility
   - Check build logs for specific errors

2. **Database Connection Issues**:
   - Verify `DATABASE_URL` format
   - Check database accessibility
   - Ensure database is running

3. **Environment Variables**:
   - Use Render dashboard to set variables
   - Ensure all required variables are set
   - Check variable names match exactly

### Useful Commands

```bash
# Check service status
# Use Render dashboard for logs and status

# Local testing
cd crypto-backend
pip install -r requirements-render.txt
uvicorn app.main:app --reload

cd crypto-frontend
npm install
npm run dev
```

## üåê Post-Deployment

1. **Test your API endpoints**:
   - Health check: `https://your-backend.onrender.com/health`
   - API docs: `https://your-backend.onrender.com/docs`

2. **Verify frontend connectivity**:
   - Check if frontend can reach backend
   - Test user registration/login

3. **Set up custom domains** (optional):
   - Use Render's custom domain feature
   - Configure DNS settings

## üìä Monitoring

Render provides:
- Real-time logs
- Performance metrics
- Automatic scaling
- Health checks
- Uptime monitoring

## üîÑ Continuous Deployment

Enable automatic deployments:
1. Connect your GitHub repository
2. Render auto-deploys on push to main branch
3. Set up preview deployments for pull requests

## üí∞ Pricing

- **Free Tier**: Available for development
- **Starter Plan**: $7/month for production
- **Database**: $7/month for PostgreSQL

## üéØ Benefits of Render

- **Easy deployment** from GitHub
- **Built-in PostgreSQL** database
- **Automatic scaling** based on traffic
- **Custom domains** support
- **SSL certificates** included
- **Great Python support**

---

**Need Help?** Check [Render Documentation](https://render.com/docs) or Render community forums.
